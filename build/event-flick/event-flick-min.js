YUI.add("event-flick",function(e,t){var n=e.Event._GESTURE_MAP,r={start:n.start,end:n.end,move:n.move},i="start",s="end",o="move",u="ownerDocument",a="minVelocity",f="minDistance",l="preventDefault",c="_fs",h="_fsh",p="_feh",d="_fmh",v="nodeType",m;m={_eventType:"flick",on:function(e,t,n){var s=this,o=e.on(r[i],function(r){s._onStart(r,e,t,n)});t[h]=o},detach:function(e,t,n){var r=t[h],i=t[p];r&&(r.detach(),t[h]=null),i&&(i.detach(),t[p]=null)},processArgs:function(t,n){var r;if(n)return;return r=t.length>3?e.merge(t.splice(3,1)[0]):{},f in r||(r[f]=this.MIN_DISTANCE),a in r||(r[a]=this.MIN_VELOCITY),l in r||(r[l]=this.PREVENT_DEFAULT),r},_onStart:function(t,n,i,a){var f=!0,h,m,g=i._extra[l],y=t,b=this;t.touches&&(f=t.touches.length===1,t=t.touches[0]),f&&(g&&(!g.call||g(t))&&y.preventDefault(),t.flick={time:(new Date).getTime()},i[c]=t,h=i[p],m=n.get(v)===9?n:n.get(u),h||(h=m.on(r[s],function(e){b._onEnd(e,n,i,a)},{standAlone:!0}),i[p]=h),i[d]=m.once(r[o],e.bind(this._onMove,this),null,n,i,a))},_onMove:function(e,t,n,r){var i=n[c];i&&i.flick&&(i.flick.time=(new Date).getTime())},_onEnd:function(e,t,n,r){var i=(new Date).getTime(),s=n[c],o=!!s,u=e,a,f,h,p,v,m,g,y,b=n[d];b&&(b.detach(),delete n[d]),o&&(e.changedTouches&&(e.changedTouches.length===1&&e.touches.length===0?u=e.changedTouches[0]:o=!1),o&&(p=n._extra,h=p[l],h&&(!h.call||h(e))&&e.preventDefault(),a=s.flick.time,i=(new Date).getTime(),f=i-a,v=[u.pageX-s.pageX,u.pageY-s.pageY],p.axis?y=p.axis:y=Math.abs(v[0])>=Math.abs(v[1])?"x":"y",m=v[y==="x"?0:1],g=f!==0?m/f:0,this._fireEvent(e,f,m,g,y,s,p,r),n[c]=null))},_fireEvent:function(e,t,n,r,i,s,o,u){this._isValidAxis(n,i)&&this._isValidFlick(r,n,o,i)&&(e.type=this._eventType,e.flick={time:t,distance:n,velocity:r,axis:i,start:s},u.fire(e))},_isValidAxis:function(e,t){return!0},_isValidFlick:function(e,t,n,r){return isFinite(e)&&Math.abs(t)>=n[f]&&Math.abs(e)>=n[a]?!0:!1},MIN_VELOCITY:0,MIN_DISTANCE:10,PREVENT_DEFAULT:!1},e.Event.define("flick",m),e.Event.define("flickleft",e.merge(m,{_eventType:"flickleft",_isValidAxis:function(e,t){return t==="x"&&e<0?!0:!1}})),e.Event.define("flickright",e.merge(m,{_eventType:"flickright",_isValidAxis:function(e,t){return t==="x"&&e>0?!0:!1}})),e.Event.define("flickup",e.merge(m,{_eventType:"flickup",_isValidAxis:function(e,t){return t==="y"&&e<0?!0:!1}})),e.Event.define("flickdown",e.merge(m,{_eventType:"flickdown",_isValidAxis:function(e,t){return t==="y"&&e>0?!0:!1}}))},"@VERSION@",{requires:["node-base","event-touch","event-synthetic"]});
